apple_library(
  name = 'Braintree',
  visibility = ['PUBLIC'],
  exported_headers = glob([
    'Braintree/BrainTreeApplePay/Public/*.h',
    'Braintree/BrainTreeCard/Public/*.h',
    'Braintree/BrainTreePayPal/Public/*.h',
    'Braintree/BraintreePayPal/PayPalDataCollector/Risk/PPRCClientMetadataIDProvider.h',
    'Target Support Files/Braintree/Braintree-umbrella.h',
  ]),
  headers = glob([
    'Braintree/**/*.h',
  ]),
  srcs = glob([
    'Braintree/**/*.m',
  ]),
  deps = [
    ':BTDeviceCollectorLibrary',
    ':BTPPRiskComponent',
  ],
)

prebuilt_cxx_library(
  name = 'BTDeviceCollectorLibrary',
  static_lib = 'Braintree/BraintreeDataCollector/Kount/libDeviceCollectorLibrary.a',
)

prebuilt_cxx_library(
  name = 'BTPPRiskComponent',
  static_lib = 'Braintree/BraintreePayPal/PayPalDataCollector/Risk/libPPRiskComponent.a',
)

apple_library(
  name = 'Nimble',
  visibility = ['PUBLIC'],
  preprocessor_flags = ['-D', 'PRODUCT_NAME=Nimble'],
  exported_headers = glob([
    'Nimble/**/*.h'
  ]),
  srcs = glob(include = [
    'Nimble/**/*.c',
    'Nimble/**/*.m',
    'Nimble/**/*.swift',
  ]),
  frameworks = [
    '$PLATFORM_DIR/Developer/Library/Frameworks/XCTest.framework',
  ],
)

apple_library(
  name = "PromiseKit",
  visibility = ["PUBLIC"],
  exported_headers = glob(include = [
    "PromiseKit/Sources/*.h",
    "Target Support Files/PromiseKit/PromiseKit-umbrella.h",
  ], exclude = ["PromiseKit/**/*Private.h"]),
  srcs = glob([
    "PromiseKit/**/*.m",
    "PromiseKit/**/*.swift",
  ]),
  # swift_compiler_flags = ['-warnings-as-errors']
)

apple_library(
  name = "Quick",
  visibility = ["PUBLIC"],
  exported_headers = glob([
    "Quick/**/*.h",
  ]),
  srcs = glob([
    "Quick/**/*.m",
    "Quick/**/*.swift",
  ]),
  frameworks = [
    "$PLATFORM_DIR/Developer/Library/Frameworks/XCTest.framework",
  ],
)
